<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<title>Document</title>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans+Condensed:300" rel="stylesheet">
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="container">
		<div class="row" id="main-carousel-container" ng-app="myApp" ng-controller="myCtrl">
			<div ng-repeat='carousel in carousels' class="carousel-wrap">
				<div id="carousel{{carousel.carouselId}}" class="carousel slide" data-interval="false">
					<div class="carousel-inner">
						<div ng-repeat="slide in carousel.slides" class="{{slide.slideClass}}">
							<a href="#" data-toggle="modal" data-target=".carousel{{carousel.carouselId}}" ng-click="setCurrentCat(carousel)">
								<img src="{{slide.slideImg}}">
							</a>
						</div>
					</div>
					<div class="static-block hidden-xs">
						<h2><a href="#" data-toggle="modal" data-target=".carousel{{carousel.carouselId}}" ng-click="setCurrentCat(carousel)">{{carousel.catName}}</a></h2>
						<h4>{{carousel.catAge}}</h4>
						<div class="carousel-controls">
							<p class="carousel-numbers">{{carousel.list_slideIndex}} of {{carousel.list_quantitySlides}}</p>
							<a class="left " href="#carousel{{carousel.carouselId}}" data-slide="prev" ng-click="prevSlider(carousel)">
								<span class="glyphicon glyphicon-chevron-left"></span>
							</a>
							<a class="right " href="#carousel{{carousel.carouselId}}" data-slide="next" ng-click="nextSlider(carousel)">
								<span class="glyphicon glyphicon-chevron-right"></span>
							</a>
						</div>
					</div>
					<div class="modal fade carousel{{carousel.carouselId}}" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel">
						<div class="modal-dialog " role="document">
							<div class="left-arrow">
								<a href="" ng-click="prevCat()"><span class="glyphicon glyphicon-chevron-left"></span></a>
							</div>
							<div class="modal-content">
								<div class="row">
									<div class="col-md-12">
										<div class="col-md-6">
											<img src="{{currentCatImg}}">
										</div>
										<div class="col-md-6">
											<div class="cat-info">
												<h3 class="">{{carousels[currentCat].catName}}</h3>
												<div class="row"><div class="col-md-5">race:</div><div class="col-md-7">{{carousels[currentCat].catAge}}</div></div>
												<div class="row"><div class="col-md-5">age:</div><div class="col-md-7">{{carousels[currentCat].catAge}}</div></div>
												<div class="row"><div class="col-md-5">weight:</div><div class="col-md-7">{{carousels[currentCat].catAge}}</div></div>
											</div>
											<div class="row cat-imgs">
												<div class="col-md-4">
													<a href="" class="cat-img-preview" ng-class="class" ng-click="selectCatImg($event, carousels[currentCat].slides[0])">
														<img src="{{carousels[currentCat].slides[0].slideImg}}" class="img-responsive">
													</a>
												</div>
												<div ng-repeat="slide in carousels[currentCat].slides.slice(1, carousels[currentCat].slides.length)" class="col-md-4">
													<a href="" class="cat-img-preview" ng-click="selectCatImg($event, slide)">
														<img src="{{slide.slideImg}}" class="img-responsive">
													</a>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="right-arrow">
								<a href="" ng-click="nextCat()"><span class="glyphicon glyphicon-chevron-right"></span></a>
							</div>
						</div>
					</div>
				</div>
	    </div>
		</div>
	</div>

</body>
</html>
<script src="js/script.min.js"></script>

<script>
	var app = angular.module('myApp', []);
	app.controller('myCtrl', function($scope) {
			$scope.carousels = [
				{list_quantitySlides: 2, list_slideIndex: 1, carouselId: 0, catName: 'Sam', catAge: '7 years',
					slides: [
						{slideName: '', slideImg: 'assets/cat_fish_0.png', slideClass: 'item active'},
						{slideName: '', slideImg: 'assets/cat_hiss_0.png', slideClass: 'item'}
				]},
				{list_quantitySlides: 3, list_slideIndex: 1, carouselId: 1, catName: 'Max', catAge: '3 years',
					slides: [
						{slideName: 'First slide', slideImg: 'assets/cat_rascal_2.png', slideClass: 'item active'},
						{slideName: 'Second slide', slideImg: 'assets/cat_eyes_2.png', slideClass: 'item'},
						{slideName: 'Third slide', slideImg: 'assets/cat_lady_2.png', slideClass: 'item'}
				]},
				{list_quantitySlides: 2, list_slideIndex: 1, carouselId: 2, catName: 'Tiger', catAge: '5 years',
					slides: [
						{slideName: 'First slide', slideImg: 'assets/cat_food_1.png', slideClass: 'item active'},
						{slideName: 'Second slide', slideImg: 'assets/cat_fat_1.png', slideClass: 'item'}
				]},
				{list_quantitySlides: 4, list_slideIndex: 1, carouselId: 3, catName: 'Oscar', catAge: '10 years',
					slides: [
						{slideName: '', slideImg: 'assets/cat_box_3.png', slideClass: 'item active'},
						{slideName: '', slideImg: 'assets/cat_sleep_3.png', slideClass: 'item'},
						{slideName: '', slideImg: 'assets/cat_paper_3.png', slideClass: 'item'},
						{slideName: '', slideImg: 'assets/cat_banjo_3.png', slideClass: 'item'},
						{slideName: '', slideImg: 'assets/cat_box_3.png', slideClass: 'item'},
						{slideName: '', slideImg: 'assets/cat_sleep_3.png', slideClass: 'item'},
						{slideName: '', slideImg: 'assets/cat_paper_3.png', slideClass: 'item'},
						{slideName: '', slideImg: 'assets/cat_banjo_3.png', slideClass: 'item'}
				]},
				{list_quantitySlides: 1, list_slideIndex: 1, carouselId: 4, catName: 'Kitty', catAge: '1 year',
					slides: [
						{slideName: 'First slide', slideImg: 'assets/cat_drunk_4.png', slideClass: 'item active'}
				]},
			];
			$scope.currentCat = 0;
			$scope.currentCatImg = '';
			$scope.class = "active";

			$scope.prevSlider = function(item){
				item.list_slideIndex--;
 				if (item.list_slideIndex == 0)
 					item.list_slideIndex = item.list_quantitySlides;
		  };
		  $scope.nextSlider = function(item){
				item.list_slideIndex++;
 				if (item.list_slideIndex > item.list_quantitySlides)
 					item.list_slideIndex = 1;
		  };
			$scope.setCurrentCat = function(item) {
				$scope.currentCat = item.carouselId;
				$scope.currentCatImg = item.slides[0].slideImg;
			};
			$scope.nextCat = function() {
				$scope.currentCat = $scope.currentCat + 1;
				if ($scope.currentCat == $scope.carousels.length) {
					$scope.currentCat = 0;
				}
				$scope.currentCatImg = $scope.carousels[$scope.currentCat].slides[0].slideImg;
				$scope.class = "active";
			}
			$scope.prevCat = function() {
				$scope.currentCat = $scope.currentCat - 1;
				if ($scope.currentCat < 0) {
					$scope.currentCat = $scope.carousels.length - 1;
				}
				$scope.currentCatImg = $scope.carousels[$scope.currentCat].slides[0].slideImg;
				$scope.class = "active";
			}
			$scope.selectCatImg = function(event, item) {
				$scope.class = "";
				$scope.currentCatImg = item.slideImg;
				$('.cat-imgs a.cat-img-preview.active').removeClass('active');
				$(event.target).parent().addClass('active');
			}
	});
</script>
